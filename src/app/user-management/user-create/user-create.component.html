<section>
  <a [routerLink]="['..']">
    <h5>← {{ 'Go Back' | translate }}</h5>
  </a>
  <h1>{{ 'Create User' | translate }}</h1>
  <mat-card>
    <mat-card-content>
      <form [formGroup]="form">
        <mat-form-field color="primary">
          <mat-label>{{ 'ID Number' | translate }}</mat-label>
          <input type="text" matInput formControlName="id" />
          <mat-hint>{{ 'Example-abbreviated' | translate }}: EMP-1810202201</mat-hint>
        </mat-form-field>
        <mat-form-field color="primary">
          <mat-label>{{ 'Name' | translate }}</mat-label>
          <input type="text" matInput formControlName="name">
        </mat-form-field>
        <mat-form-field color="primary">
          <mat-label>{{ 'Email' | translate }}</mat-label>
          <input type="email" matInput formControlName="email" />
        </mat-form-field>
        <mat-form-field color="primary">
          <mat-label>{{ 'Age' | translate }}</mat-label>
          <input type="number" matInput formControlName="age" min="19" />
        </mat-form-field>
        <mat-radio-group formControlName="gender">
          <mat-label>{{ 'Gender' | translate }}</mat-label>
          <mat-radio-button value="MALE">{{ 'MALE' | translate}}</mat-radio-button>
          <mat-radio-button value="FEMALE">{{ 'FEMALE' | translate}}</mat-radio-button>
          <mat-radio-button value="NEUTRAL">{{ 'NEUTRAL' | translate }}</mat-radio-button>
        </mat-radio-group>
        <mat-form-field color="primary">
          <mat-label>{{ 'Position' | translate }}</mat-label>
          <mat-select formControlName="type">
            <mat-option *ngFor="let userType of userTypes" [value]="userType">{{ userType | translate }}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-label>{{ 'Marital Status' | translate }}</mat-label>
          <mat-select formControlName="marital_status">
            <mat-option value="MARRIED">{{ 'MARRIED' | translate }}</mat-option>
            <mat-option value="SINGLE">{{ 'SINGLE' | translate }}</mat-option>
          </mat-select>
        </mat-form-field>
        <ul formArrayName="addresses">
          <li *ngFor="let group of addresses.controls; let idx = index" [formGroupName]="idx">
            <mat-form-field>
              <mat-label>{{ 'Address' | translate }}</mat-label>
              <input type="text" matInput formControlName="address" />
            </mat-form-field>
            <mat-form-field>
              <mat-label>{{ 'Zip Code' | translate }}</mat-label>
              <input type="text" matInput formControlName="zip" />
            </mat-form-field>
            <mat-form-field>
              <mat-label>{{ 'City' | translate }}</mat-label>
              <input type="text" matInput formControlName="city" />
            </mat-form-field>
            <mat-form-field>
              <mat-label>{{ 'Country' | translate }}</mat-label>
              <input type="text" matInput formControlName="country" />
            </mat-form-field>
            <button mat-button color="warn" (click)="addresses.removeAt(idx)" *ngIf="addresses.length > 1">Remove Address</button>
          </li>
        </ul>
        <button mat-button (click)="addAddress()" *ngIf="addresses.length < 2">Add Another Address</button>
      </form>
    </mat-card-content>
  </mat-card>
  <button class="button-submit" mat-raised-button color="primary" (click)="submit()">
    {{ (mode === 'edit' ? 'Edit User' : 'Add User') | translate }}
  </button>
</section>
